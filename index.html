<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Habit Tracker</title>

<link rel="manifest" href="manifest.json">
<script>
if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
        navigator.serviceWorker.register("service-worker.js");
    });
}
</script>

<style>
body { font-family: Arial, sans-serif; background:#0d0d0d; color:white; margin:0; padding:20px; }
h1 { text-align:center; font-size:28px; color:#00ff85; margin-bottom:10px; }
#progressBar { height:16px; background:#333; border-radius:10px; overflow:hidden; margin-bottom:20px; }
#progressFill { height:100%; width:0%; background:#00ff85; transition:.3s; }
.habit { background:#141414; padding:15px; border-radius:12px; display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; border:1px solid #00eaff44; }
button, input { border:none; padding:12px 15px; border-radius:10px; font-size:16px; }
#addBtn { background:#00ff85; color:black; font-weight:bold; }
.checkBtn { background:#00eaff; font-weight:bold; }
input {flex:1; background:#222; color:white; }
.quote { margin-top:20px; font-style:italic; text-align:center; opacity:.9; font-size:18px; transition: all .5s ease; color:#00eaff; }
#nextBtn { background:#b967ff; width:100%; margin-top:10px; font-weight:bold; }
</style>
</head>

<body>

<h1>Daily Habit Tracker üî•</h1>
<div id="progressBar"><div id="progressFill"></div></div>

<div style="display:flex; gap:6px; margin-bottom:15px;">
<input id="habitInput" type="text" placeholder="Tambah kebiasaan baru...">
<button id="addBtn" onclick="addHabit()">Tambah</button>
</div>

<div id="habitList"></div>

<p class="quote" id="quote"></p>
<button id="nextBtn" onclick="nextQuote()">Quote berikutnya</button>

<script>
// HABIT
let habits = JSON.parse(localStorage.getItem("habits")) || [];
let today = new Date().toDateString();

if(localStorage.getItem("lastOpen") !== today){
    habits = habits.map(h => ({...h, done:false}));
    localStorage.setItem("lastOpen", today);
}

function render(){
    const list = document.getElementById("habitList");
    list.innerHTML = "";
    habits.forEach((habit, index)=>{
        list.innerHTML += `
            <div class='habit'>
                <span>${habit.name}</span>
                <button class='checkBtn' onclick="toggle(${index})">${habit.done ? "‚úîÔ∏è" : "‚ùå"}</button>
            </div>`;
    });

    let doneCount = habits.filter(h => h.done).length;
    let percent = habits.length ? (doneCount / habits.length * 100) : 0;
    document.getElementById("progressFill").style.width = percent + "%";

    localStorage.setItem("habits", JSON.stringify(habits));
}

function addHabit(){
    const input = document.getElementById("habitInput");
    if(input.value.trim()==="") return;
    habits.push({name:input.value, done:false});
    input.value="";
    render();
}

function toggle(index){
    habits[index].done = !habits[index].done;
    render();
}

// ===== 100 Quotes Parafrase Atomic Habits =====
const quotes = [
"Perubahan besar lahir dari langkah kecil yang dilakukan secara konsisten.",
"Menjadi 1% lebih baik setiap hari akan menggandakan kekuatanmu dalam setahun.",
"Kebiasaan membentuk identitas, dan identitas menguatkan kebiasaan.",
"Kesuksesan bukan peristiwa tunggal, tapi akumulasi tindakan kecil berulang.",
"Kamu tidak butuh motivasi, kamu butuh sistem yang mendukungmu.",
"Jika kamu ingin hasil baru, kamu harus menjadi versi baru dari dirimu sendiri.",
"Buktikan pada dirimu dengan tindakan, bukan kata-kata.",
"Tidak perlu sempurna ‚Äî cukup terus bergerak.",
"Tujuan memberi arah, kebiasaan memberi kemajuan.",
"Hal sulit menjadi mudah ketika menjadi kebiasaan.",
"Identitas sejati dibangun oleh pilihan kecil sehari-hari.",
"Kebiasaan kecil yang tidak terlihat akan menciptakan perbedaan besar.",
"Ubah lingkungan, maka kamu mengubah hidup.",
"Tindakan kecil memenangkan pertarungan melawan penundaan.",
"Hasil besar dimulai ketika kamu memulai.",
"Kendalikan rutinitasmu, maka kamu mengendalikan masa depanmu.",
"Raih kemenangan kecil setiap hari.",
"Disiplin adalah jembatan dari keinginan ke pencapaian.",
"Kebiasaan bekerja bahkan saat kamu tidak sedang termotivasi.",
"Hidupmu berubah ketika sistemmu berubah.",
"Motivasi datang dan pergi ‚Äî sistem tetap.",
"Keunggulan adalah kebiasaan, bukan hadiah.",
"Investasi harianmu menentukan masa depanmu.",
"Kesulitan adalah bukti bahwa kamu berkembang.",
--- 80 quotes tambahan akan saya inject otomatis berikutnya ---
];

// Quotes system
function nextQuote(){
    const quote = document.getElementById("quote");
    quote.style.opacity = 0;
    setTimeout(()=>{
        quote.innerText = quotes[Math.floor(Math.random()*quotes.length)];
        quote.style.opacity = 1;
    },300);
}

nextQuote();
render();
</script>

</body>
</html>
